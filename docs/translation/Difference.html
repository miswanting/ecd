<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.svg"><title>与 Eramaker 的差异 | Era 中文文档</title><meta name="description" content="Eramaker + Emuera + EraBasic 中文文档">
    <link rel="modulepreload" href="/ecd/assets/app.d32e40b2.js"><link rel="modulepreload" href="/ecd/assets/Difference.html.7fde659a.js"><link rel="modulepreload" href="/ecd/assets/Difference.html.6ce0709b.js"><link rel="modulepreload" href="/ecd/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/ecd/assets/style.5a769d34.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/ecd/" class=""><img class="logo" src="/ecd/favicon.svg" alt="Era 中文文档"><span class="site-name can-hide">Era 中文文档</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="指南"><span class="title">指南</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="指南"><span class="title">指南</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ecd/guide/Quick_Start" class="" aria-label="快速开始"><!--[--><!--]--> 快速开始 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ecd/guide/tutorials/" class="" aria-label="入门教程"><!--[--><!--]--> 入门教程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/ecd/reference/" class="" aria-label="参考"><!--[--><!--]--> 参考 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="翻译"><span class="title">翻译</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="翻译"><span class="title">翻译</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ecd/translation/#eramaker-部分" class="" aria-label="EraMaker文档翻译"><!--[--><!--]--> EraMaker文档翻译 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ecd/translation/#emuera-部分" class="" aria-label="Emuera文档翻译"><!--[--><!--]--> Emuera文档翻译 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/ecd/development/" class="" aria-label="开发"><!--[--><!--]--> 开发 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/ecd/ecosystem/" class="" aria-label="生态"><!--[--><!--]--> 生态 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/ecd/contribute/" class="" aria-label="贡献"><!--[--><!--]--> 贡献 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="镜像"><span class="title">镜像</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="镜像"><span class="title">镜像</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://miswanting.github.io/ecd/" rel="noopener noreferrer" target="_blank" aria-label="全球"><!--[--><!--]--> 全球 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://miswanting.gitee.io/ecd/" rel="noopener noreferrer" target="_blank" aria-label="中国大陆"><!--[--><!--]--> 中国大陆 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/miswanting/ecd" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="指南"><span class="title">指南</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="指南"><span class="title">指南</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ecd/guide/Quick_Start" class="" aria-label="快速开始"><!--[--><!--]--> 快速开始 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ecd/guide/tutorials/" class="" aria-label="入门教程"><!--[--><!--]--> 入门教程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/ecd/reference/" class="" aria-label="参考"><!--[--><!--]--> 参考 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="翻译"><span class="title">翻译</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="翻译"><span class="title">翻译</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ecd/translation/#eramaker-部分" class="" aria-label="EraMaker文档翻译"><!--[--><!--]--> EraMaker文档翻译 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ecd/translation/#emuera-部分" class="" aria-label="Emuera文档翻译"><!--[--><!--]--> Emuera文档翻译 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/ecd/development/" class="" aria-label="开发"><!--[--><!--]--> 开发 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/ecd/ecosystem/" class="" aria-label="生态"><!--[--><!--]--> 生态 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/ecd/contribute/" class="" aria-label="贡献"><!--[--><!--]--> 贡献 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="镜像"><span class="title">镜像</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="镜像"><span class="title">镜像</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://miswanting.github.io/ecd/" rel="noopener noreferrer" target="_blank" aria-label="全球"><!--[--><!--]--> 全球 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://miswanting.gitee.io/ecd/" rel="noopener noreferrer" target="_blank" aria-label="中国大陆"><!--[--><!--]--> 中国大陆 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/miswanting/ecd" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">EraMaker 部分 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/ecd/translation/CSV_File_Format.html" class="sidebar-item" aria-label="Eramaker 的 CSV 文件格式"><!--[--><!--]--> Eramaker 的 CSV 文件格式 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/ERB_File_Format.html" class="sidebar-item" aria-label="Eramaker 的 ERB 文件格式"><!--[--><!--]--> Eramaker 的 ERB 文件格式 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/EraBasic_Structure.html" class="sidebar-item" aria-label="EraBasic 的结构"><!--[--><!--]--> EraBasic 的结构 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/EraBasic_Variables.html" class="sidebar-item" aria-label="EraBasic 的变量"><!--[--><!--]--> EraBasic 的变量 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Emuera 部分 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/ecd/translation/Glossary.html" class="sidebar-item" aria-label="Emuera 术语表"><!--[--><!--]--> Emuera 术语表 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Debug_Command.html" class="sidebar-item" aria-label="调试命令"><!--[--><!--]--> 调试命令 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Debug_Mode.html" class="sidebar-item" aria-label="调试模式"><!--[--><!--]--> 调试模式 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Replace_CSV.html" class="sidebar-item" aria-label="关于 _replace.csv"><!--[--><!--]--> 关于 _replace.csv <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Config.html" class="sidebar-item" aria-label="强制配置项目"><!--[--><!--]--> 强制配置项目 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Flow.html" class="sidebar-item" aria-label="流程图"><!--[--><!--]--> 流程图 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="与 Eramaker 的差异"><!--[--><!--]--> 与 Eramaker 的差异 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ecd/translation/Difference.html#修复-bug-和不自然的行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="修复 Bug 和不自然的行为"><!--[--><!--]--> 修复 Bug 和不自然的行为 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ecd/translation/Difference.html#数组的最后一个元素不可用的-bug" class="router-link-active router-link-exact-active sidebar-item" aria-label="数组的最后一个元素不可用的 Bug"><!--[--><!--]--> 数组的最后一个元素不可用的 Bug <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#单元运算符-的异常" class="router-link-active router-link-exact-active sidebar-item" aria-label="单元运算符-的异常"><!--[--><!--]--> 单元运算符-的异常 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#文件的最后一行不会被读取" class="router-link-active router-link-exact-active sidebar-item" aria-label="文件的最后一行不会被读取"><!--[--><!--]--> 文件的最后一行不会被读取 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#如果数组中存在额外的元素-它们将被忽略" class="router-link-active router-link-exact-active sidebar-item" aria-label="如果数组中存在额外的元素，它们将被忽略"><!--[--><!--]--> 如果数组中存在额外的元素，它们将被忽略 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#不能使用特定格式的阵列调用" class="router-link-active router-link-exact-active sidebar-item" aria-label="不能使用特定格式的阵列调用"><!--[--><!--]--> 不能使用特定格式的阵列调用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#将csv中的异常数字视为整数" class="router-link-active router-link-exact-active sidebar-item" aria-label="将CSV中的异常数字视为整数"><!--[--><!--]--> 将CSV中的异常数字视为整数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#不自然的记号工作" class="router-link-active router-link-exact-active sidebar-item" aria-label="不自然的记号工作"><!--[--><!--]--> 不自然的记号工作 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/ecd/translation/Difference.html#与-eramaker-的其他区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="与 Eramaker 的其他区别"><!--[--><!--]--> 与 Eramaker 的其他区别 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ecd/translation/Difference.html#如果sif后面紧接着是空行、注释行等" class="router-link-active router-link-exact-active sidebar-item" aria-label="如果SIF后面紧接着是空行、注释行等"><!--[--><!--]--> 如果SIF后面紧接着是空行、注释行等 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#如果你省略一个参数-如if或elseif-会发生什么" class="router-link-active router-link-exact-active sidebar-item" aria-label="如果你省略一个参数，如IF或ELSEIF，会发生什么"><!--[--><!--]--> 如果你省略一个参数，如IF或ELSEIF，会发生什么 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#函数名称允许的字符" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数名称允许的字符"><!--[--><!--]--> 函数名称允许的字符 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#rand的行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="RAND的行为"><!--[--><!--]--> RAND的行为 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#wait的行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="WAIT的行为"><!--[--><!--]--> WAIT的行为 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#jump的行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="JUMP的行为"><!--[--><!--]--> JUMP的行为 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#callname的行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="CALLNAME的行为"><!--[--><!--]--> CALLNAME的行为 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#printform和其他form的格式化" class="router-link-active router-link-exact-active sidebar-item" aria-label="PRINTFORM和其他FORM的格式化"><!--[--><!--]--> PRINTFORM和其他FORM的格式化 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#event函数的属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="EVENT函数的属性"><!--[--><!--]--> EVENT函数的属性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#gamebase-csv-代码的读取方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="GameBase.csv 代码的读取方法"><!--[--><!--]--> GameBase.csv 代码的读取方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#abl-csv-等的读取方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="Abl.csv 等的读取方法"><!--[--><!--]--> Abl.csv 等的读取方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#train-csv-的读取方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="Train.csv 的读取方法"><!--[--><!--]--> Train.csv 的读取方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#charaxx-csv-的读取方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="CharaXX.csv 的读取方法"><!--[--><!--]--> CharaXX.csv 的读取方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#文件的换行代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="文件的换行代码"><!--[--><!--]--> 文件的换行代码 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/ecd/translation/Difference.html#未纠正的错误和不自然的行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="未纠正的错误和不自然的行为"><!--[--><!--]--> 未纠正的错误和不自然的行为 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ecd/translation/Difference.html#读取文件的顺序取决于文件系统" class="router-link-active router-link-exact-active sidebar-item" aria-label="读取文件的顺序取决于文件系统"><!--[--><!--]--> 读取文件的顺序取决于文件系统 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#count是在repeat-rend的结尾处添加的" class="router-link-active router-link-exact-active sidebar-item" aria-label="COUNT是在REPEAT-REND的结尾处添加的"><!--[--><!--]--> COUNT是在REPEAT-REND的结尾处添加的 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ecd/translation/Difference.html#nextcom的行为" class="router-link-active router-link-exact-active sidebar-item" aria-label="NEXTCOM的行为"><!--[--><!--]--> NEXTCOM的行为 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/ecd/translation/Difference.html#改变的特征" class="router-link-active router-link-exact-active sidebar-item" aria-label="改变的特征"><!--[--><!--]--> 改变的特征 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ecd/translation/Difference.html#sp角色" class="router-link-active router-link-exact-active sidebar-item" aria-label="SP角色"><!--[--><!--]--> SP角色 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item">新增语法 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/ecd/translation/General.html" class="sidebar-item" aria-label="常规"><!--[--><!--]--> 常规 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Operator.html" class="sidebar-item" aria-label="运算"><!--[--><!--]--> 运算 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Variable.html" class="sidebar-item" aria-label="常量与变量"><!--[--><!--]--> 常量与变量 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Custom_Variable.html" class="sidebar-item" aria-label="用户自定义变量"><!--[--><!--]--> 用户自定义变量 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Command.html" class="sidebar-item" aria-label="命令"><!--[--><!--]--> 命令 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Function_and_Preprocessor.html" class="sidebar-item" aria-label="函数与预处理器"><!--[--><!--]--> 函数与预处理器 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Expression.html" class="sidebar-item" aria-label="式中函数"><!--[--><!--]--> 式中函数 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Custom_Expression.html" class="sidebar-item" aria-label="自定义表达式内函数"><!--[--><!--]--> 自定义表达式内函数 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Header_File.html" class="sidebar-item" aria-label="头文件（ERH）"><!--[--><!--]--> 头文件（ERH） <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/HTML_PRINT.html" class="sidebar-item" aria-label="HTML_PRINT 相关"><!--[--><!--]--> HTML_PRINT 相关 <!--[--><!--]--></a><!----></li><li><a href="/ecd/translation/Resource.html" class="sidebar-item" aria-label="资源文件"><!--[--><!--]--> 资源文件 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="与-eramaker-的差异" tabindex="-1"><a class="header-anchor" href="#与-eramaker-的差异" aria-hidden="true">#</a> 与 Eramaker 的差异</h1><blockquote><p>翻译自原文档：https://osdn.net/projects/emuera/wiki/diff</p></blockquote><h2 id="修复-bug-和不自然的行为" tabindex="-1"><a class="header-anchor" href="#修复-bug-和不自然的行为" aria-hidden="true">#</a> 修复 Bug 和不自然的行为</h2><h3 id="数组的最后一个元素不可用的-bug" tabindex="-1"><a class="header-anchor" href="#数组的最后一个元素不可用的-bug" aria-hidden="true">#</a> 数组的最后一个元素不可用的 Bug</h3><p>在 Eramaker 中，如果数组的最后一个元素不为零，数据将在存档加载时被破坏。</p><p>这个 Bug 在 Emuera 中不会发生。</p><p>这个 Bug 是由于 Eramaker 没有一个一致的保存和加载规范，但现在 Emuera 有一个一致的保存规范了。因此，如果你用 Eramaker 保存，用 Emuera 加载，Bug 就不会重现，但如果你用 Emuera 保存，用 Eramaker 加载，问题就会再现。</p><h3 id="单元运算符-的异常" tabindex="-1"><a class="header-anchor" href="#单元运算符-的异常" aria-hidden="true">#</a> 单元运算符<code>-</code>的异常</h3><p>在 Eramaker 中，存在着诸如<code>-100&lt;0</code>为<code>假</code>的Bug。</p><p>这个 Bug 在 Emuera 中不会重现。</p><h3 id="文件的最后一行不会被读取" tabindex="-1"><a class="header-anchor" href="#文件的最后一行不会被读取" aria-hidden="true">#</a> 文件的最后一行不会被读取</h3><p>Eramaker 会忽略没有换行代码的行。</p><p>这意味着无论是<code>CSV</code>还是<code>ERB</code>文件的最后一行都被忽略了。</p><p>这个 Bug 在 Emuera 中不会重现。</p><h3 id="如果数组中存在额外的元素-它们将被忽略" tabindex="-1"><a class="header-anchor" href="#如果数组中存在额外的元素-它们将被忽略" aria-hidden="true">#</a> 如果数组中存在额外的元素，它们将被忽略</h3><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">A:1:2 = 34</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在 Eramaker 中，上述表达式将把<code>34</code>分配给<code>A:1</code>。</p><p>而在 Emuera 中，这会报错。</p><h3 id="不能使用特定格式的阵列调用" tabindex="-1"><a class="header-anchor" href="#不能使用特定格式的阵列调用" aria-hidden="true">#</a> 不能使用特定格式的阵列调用</h3><p>Eramaker 允许你使用 A:0 和 A:(COUNT+1) 等变量。</p><p>另一方面，双数组变量，如<code>ABL:0:2</code>或<code>TALENT:(COUNT+1):2</code>将导致错误。</p><p>另外，如果你在调用字符串变量时省略了参数，你可能会得到一个错误。</p><p>在 Emuera，这个问题不会发生。</p><p>如果双数组的参数是一个常数或表达式，则不会发生错误，而且可以省略字符串变量的参数。</p><h3 id="将csv中的异常数字视为整数" tabindex="-1"><a class="header-anchor" href="#将csv中的异常数字视为整数" aria-hidden="true">#</a> 将CSV中的异常数字视为整数</h3><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">0,ローター,200</span></span>
<span class="line"><span style="color:#c9d1d9;">0xFF,ルーター,200</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果在<code>Item.csv</code>中发现上述描述，Eramaker 将把<code>0xFF</code>解释为0，<code>TALENT:0</code>将被定义为一个路由器。</p><p>Emuera 将无法重现这一点，它将给出一个错误并使这个定义无效，<code>TALENT:0</code>将被定义为一个转子。[?]</p><h3 id="不自然的记号工作" tabindex="-1"><a class="header-anchor" href="#不自然的记号工作" aria-hidden="true">#</a> 不自然的记号工作</h3><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">A:0:1:99999 +-RESULTS:0=@=+123|*?=Y</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上述表达方式在 Eramaker 中起作用。</p><p>Emuera 中这是一个错误。</p><h2 id="与-eramaker-的其他区别" tabindex="-1"><a class="header-anchor" href="#与-eramaker-的其他区别" aria-hidden="true">#</a> 与 Eramaker 的其他区别</h2><h3 id="如果sif后面紧接着是空行、注释行等" tabindex="-1"><a class="header-anchor" href="#如果sif后面紧接着是空行、注释行等" aria-hidden="true">#</a> 如果SIF后面紧接着是空行、注释行等</h3><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">SIF 条件文</span></span>
<span class="line"><span style="color:#c9d1d9;">  ;コメント</span></span>
<span class="line"><span style="color:#c9d1d9;">  PRINT hogehoge</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Eramaker 总是执行<code>PRINT</code>行，因为它不知道<code>SIF</code>的下一行是一个<code>;注释</code>。</p><p>Emuera 和 Kirikiri 一样，只在条件语句为真时执行 PRINT 行。</p><p>Emuera 将空行和注释行视为根本不存在，并将SIF的下一行识别为<code>PRINT hogehoge</code>。</p><p>另外，尽管 Eramaker 允许<code>IF</code>和<code>REPEAT</code>语句跟在<code>SIF</code>后面，但 Emuera 限制了<code>SIF</code>后面的行数，因为这往往不是作者的意图。</p><h3 id="如果你省略一个参数-如if或elseif-会发生什么" tabindex="-1"><a class="header-anchor" href="#如果你省略一个参数-如if或elseif-会发生什么" aria-hidden="true">#</a> 如果你省略一个参数，如IF或ELSEIF，会发生什么</h3><p>在 Eramaker 中，如果<code>IF</code>、<code>ELSEIF</code>或赋值语句的参数被省略，则行为未定义。</p><p>然而，如果省略<code>RETURN</code>参数，结果是<code>RETURN 0</code>。</p><p>Emuera 总是把省略的参数解释为0，所以任何小于<code>IF</code>的参数总是不会被执行，但会有一个警告。</p><h3 id="函数名称允许的字符" tabindex="-1"><a class="header-anchor" href="#函数名称允许的字符" aria-hidden="true">#</a> 函数名称允许的字符</h3><p>所有字符，包括符号和双字节字符，都可以在 Eramaker 中使用。</p><p>Emuera 也允许双字节字符，但不允许除_（下划线）以外的符号。</p><p>另外，Emuera 不建议用数字作为函数名称的开头。</p><p>下面的脚本 Eramaker 中可以工作，但在 Emuera 中会导致错误。</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">CALL \.,)(][+-%* 　@&amp;$</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span>
<span class="line"><span style="color:#c9d1d9;">@\.,)(][+-%* 　@&amp;$</span></span>
<span class="line"><span style="color:#c9d1d9;">  PRINTL 调用@\.,)(][+-%* 　@&amp;$函数。</span></span>
<span class="line"><span style="color:#c9d1d9;">  RETURN 0</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>在 Emuera 中，如果一个函数名包含<code>,</code>或<code>(</code>，它就会被误解为一个函数参数。</p><p>另外，如果函数名中含有<code>@</code>或运算符，调用<code>LOCAL@函数名</code>将不能正常工作。</p><p>如果函数名称包含<code>{}</code>或<code>%</code>，对<code>CALLFORM</code>的调用将不工作。</p><p>由于这个原因，Emuera 禁止在函数名称中使用符号，就像许多其他编程语言，如<code>C#</code>和<code>Kirikiri</code>一样。</p><p>从1.721版本开始，这是一个<code>警告Lv 1</code>，而不是一个即时的错误终止警告，但它可能会在某个地方引起非预期的行为。</p><p>另外，如果一个函数名以数字开头，它就不能作为一个可以在表达式中使用的函数被调用。</p><p>这是因为表达式将查看单个字符，以确定它是一个数字、变量还是函数。</p><h3 id="rand的行为" tabindex="-1"><a class="header-anchor" href="#rand的行为" aria-hidden="true">#</a> RAND的行为</h3><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">A = RAND:X</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>对于 ，如果X是0，Eramaker 返回0。</p><p>否则，它返回（0到32767之间的一个随机数）%（X的绝对值）。</p><p>这个方法即使在X为负数时也能工作，从不返回大于32767的值，并且在X大于1000时有一个不可忽视的偏差。</p><p>Emuera 没有再现这些特征。</p><p>Emuera 返回一个从0~1846744073709551615的随机数%（X）。</p><p>如果X是零或负数，Emuera将报错。</p><p>(这是因为Emuera关注的是返回值的一致性，因为官方描述说 &quot;RAND:A的返回值是0到A-1之间的整数&quot;）。</p><p>另外，X在1到9223372036854775807范围内有效（64位有符号整数的正数范围）。</p><p>如果X小于100万亿，就不会出现偏差。</p><h3 id="wait的行为" tabindex="-1"><a class="header-anchor" href="#wait的行为" aria-hidden="true">#</a> WAIT的行为</h3><p>在 Eramaker 中，执行<code>WAIT</code>指令时没有换行，但按下<code>Enter</code>键时有换行。</p><p>在 Emuera 中，当光标位于一行的中间时，当执行<code>WAIT</code>指令时，会创建一个新的行，但当按下<code>Enter</code>键或左键时则不会。</p><h3 id="jump的行为" tabindex="-1"><a class="header-anchor" href="#jump的行为" aria-hidden="true">#</a> JUMP的行为</h3><p>在 Eramaker 中，你不能从一个用<code>CALL</code>调用的函数中跳跃出来。</p><p>在 Emuera 中，你可以从一个用<code>CALL</code>调用的函数中跳跃出来。</p><p>如果你在<code>JUMP</code>目标中<code>RETURN</code>，行为将与你在<code>JUMP</code>源函数中<code>RETURN</code>相同。</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">CALL FOOBAR</span></span>
<span class="line"><span style="color:#c9d1d9;">@FOO</span></span>
<span class="line"><span style="color:#c9d1d9;">  PRINTL 函数@FOO</span></span>
<span class="line"><span style="color:#c9d1d9;">  JUMP BAR</span></span>
<span class="line"><span style="color:#c9d1d9;">@BAR</span></span>
<span class="line"><span style="color:#c9d1d9;">  PRINTL 函数@BAR</span></span>
<span class="line"><span style="color:#c9d1d9;">  RETURN 0</span></span>
<span class="line"><span style="color:#c9d1d9;">@FOOBAR</span></span>
<span class="line"><span style="color:#c9d1d9;">  PRINTL 函数@FOOBAR</span></span>
<span class="line"><span style="color:#c9d1d9;">  CALL FOO</span></span>
<span class="line"><span style="color:#c9d1d9;">  PRINTW 从函数@FOOBAR返回</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Eramaker 输出：</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">试图用JUMP来调用一个函数，而这个函数是用CALL调用的。</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Emuera 输出：</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">函数@FOOBAR</span></span>
<span class="line"><span style="color:#c9d1d9;">函数@FOO</span></span>
<span class="line"><span style="color:#c9d1d9;">函数@BAR</span></span>
<span class="line"><span style="color:#c9d1d9;">从函数@FOOBAR返回</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="callname的行为" tabindex="-1"><a class="header-anchor" href="#callname的行为" aria-hidden="true">#</a> CALLNAME的行为</h3><p>在 Eramaker 中，当引用<code>CALLNAME</code>时，如果<code>CALLNAME</code>是一个空字符串，它将返回<code>NAME</code>的值来代替。</p><p>在 Emuera 中，如果<code>CALLNAME</code>是一个空字符串，它将返回一个空字符串。</p><p>为了弥补这一差异，Emuera 提供了<code>如果CALLNAME是一个空字符串，则分配NAME</code>的选项。</p><p>如果这个选项是<code>YES</code>，并且<code>CALLNAME</code>没有在<code>CharaXX.csv</code>中设置，或者设置为空字符串，Emuera 就会假定<code>NAME</code>设置为相同的字符串。</p><p>然而，即使是这个选项也不是完全可重复的。</p><p>例如，如果你用 Eramaker 添加一个角色到保存中，然后用 Emuera 读取，行为可能不同。</p><h3 id="printform和其他form的格式化" tabindex="-1"><a class="header-anchor" href="#printform和其他form的格式化" aria-hidden="true">#</a> PRINTFORM和其他FORM的格式化</h3><p>Eramaker 会根据需要重复多次，直到没有更多的东西需要被格式化。</p><p>如果有自我引用或循环引用，它就会冻结。</p><p>Emuera 只会格式化一次。</p><p>Eramaker 的格式化可能是以下列方式进行的：</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">str = 被格式化的字符串</span></span>
<span class="line"><span style="color:#c9d1d9;">while(字符串中存在{～～})</span></span>
<span class="line"><span style="color:#c9d1d9;">  格式化最左边的{～～}</span></span>
<span class="line"><span style="color:#c9d1d9;">while(字符串中存在%～～%)</span></span>
<span class="line"><span style="color:#c9d1d9;">  格式化最左边的{～～}%～～%</span></span>
<span class="line"><span style="color:#c9d1d9;">while(字符串中存在***)</span></span>
<span class="line"><span style="color:#c9d1d9;">  格式化最左边的***</span></span>
<span class="line"><span style="color:#c9d1d9;">while(字符串中存在$$$)</span></span>
<span class="line"><span style="color:#c9d1d9;">  格式化最左边的$$$</span></span>
<span class="line"><span style="color:#c9d1d9;">while(字符串中存在+++)</span></span>
<span class="line"><span style="color:#c9d1d9;">  格式化最左边的+++</span></span>
<span class="line"><span style="color:#c9d1d9;">while(字符串中存在///)</span></span>
<span class="line"><span style="color:#c9d1d9;">  格式化最左边的///</span></span>
<span class="line"><span style="color:#c9d1d9;">while(字符串中存在===)</span></span>
<span class="line"><span style="color:#c9d1d9;">  格式化最左边的===</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>由于这种行为，Eramaker 还允许你：</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">STR:1 = S1%STR:2%3%4%</span></span>
<span class="line"><span style="color:#c9d1d9;">STR:2 = S2%STR:</span></span>
<span class="line"><span style="color:#c9d1d9;">STR:3 = S3%STR:</span></span>
<span class="line"><span style="color:#c9d1d9;">STR:4 = S4</span></span>
<span class="line"><span style="color:#c9d1d9;">PRINTFORMSL STR:1</span></span>
<span class="line"><span style="color:#c9d1d9;">PRINTFORML %STR:1%</span></span>
<span class="line"><span style="color:#c9d1d9;">DRAWLINE </span></span>
<span class="line"><span style="color:#c9d1d9;">;结果</span></span>
<span class="line"><span style="color:#c9d1d9;">;S1S2S3S4</span></span>
<span class="line"><span style="color:#c9d1d9;">;S1S2S3S4</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Emuera 不会重现这种情况。</p><h3 id="event函数的属性" tabindex="-1"><a class="header-anchor" href="#event函数的属性" aria-hidden="true">#</a> EVENT函数的属性</h3><p>在 Eramaker 中，对事件函数的调用是以下列方式进行的：</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">foreach(function with #PRI)</span></span>
<span class="line"><span style="color:#c9d1d9;">{</span></span>
<span class="line"><span style="color:#c9d1d9;">  功能调用</span></span>
<span class="line"><span style="color:#c9d1d9;">  if(#SINGLE且返回值为1)</span></span>
<span class="line"><span style="color:#c9d1d9;">    break;</span></span>
<span class="line"><span style="color:#c9d1d9;">}</span></span>
<span class="line"><span style="color:#c9d1d9;">foreach(没有#PRI或#LATER的函数)</span></span>
<span class="line"><span style="color:#c9d1d9;">{</span></span>
<span class="line"><span style="color:#c9d1d9;">  功能调用</span></span>
<span class="line"><span style="color:#c9d1d9;">  if(#SINGLE且返回值为1)</span></span>
<span class="line"><span style="color:#c9d1d9;">    break;</span></span>
<span class="line"><span style="color:#c9d1d9;">}</span></span>
<span class="line"><span style="color:#c9d1d9;">foreach(function with #LATER)</span></span>
<span class="line"><span style="color:#c9d1d9;">{</span></span>
<span class="line"><span style="color:#c9d1d9;">  功能调用</span></span>
<span class="line"><span style="color:#c9d1d9;">  if(#SINGLE且返回值为1)</span></span>
<span class="line"><span style="color:#c9d1d9;">    break;</span></span>
<span class="line"><span style="color:#c9d1d9;">}</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>一个同时具有<code>#PRI</code>和<code>#LATER</code>的事件函数将被调用两次。</p><p><code>#SINGLE</code>只有在返回值为1的情况下才会中止后续的函数调用。</p><p>另外，<code>#SINGLE</code>中断了每一对带有<code>#PRI</code>或<code>#LATER</code>的函数调用。</p><p>Emuera 自1.800版（1.756alpha018包括开发版）以来，完全再现了这种行为。</p><p>在早期的 Emuera 中，对事件函数的调用是以下列方式进行的：</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">根据#PRI和#LATER对函数列表进行排序</span></span>
<span class="line"><span style="color:#c9d1d9;">foreach(所有函数)</span></span>
<span class="line"><span style="color:#c9d1d9;">{</span></span>
<span class="line"><span style="color:#c9d1d9;">  功能调用</span></span>
<span class="line"><span style="color:#c9d1d9;">  if(#SINGLE且返回值为1)</span></span>
<span class="line"><span style="color:#c9d1d9;">    break;</span></span>
<span class="line"><span style="color:#c9d1d9;">}</span></span>
<span class="line"><span style="color:#c9d1d9;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>如果<code>#PRI</code>和<code>#LATER</code>都存在，那么该函数将被视为两者都没有的情况。</p><p>如果函数调用被<code>#SINGLE</code>打断，那么对事件函数的调用将被终止，不管<code>#PRI</code>或<code>#LATER</code>是否存在。</p><p>注意，在 Emuera 1.751b之前，如果返回值为非零，<code>#SINGLE</code>会中止后续的函数调用。</p><p>这个问题在1.752中被修复了，目前的版本只在返回值为1时中止后续的函数调用，就像Eramaker 一样。</p><h3 id="gamebase-csv-代码的读取方法" tabindex="-1"><a class="header-anchor" href="#gamebase-csv-代码的读取方法" aria-hidden="true">#</a> GameBase.csv 代码的读取方法</h3><p>如果你在 GameBase.csv 中输入的数字超过了-2147483648到2147483647的范围，这是 Eramaker 可以处理的范围，Eramaker 将把<code>csv</code>值转换为16进制，并使用最后8位数字作为游戏代码。</p><p>例如，如果你写<code>代码,08231000181818110</code>，游戏代码将是<code>301712126</code>，这是 Eramaker 可以处理的范围。</p><p>Emuera 没有再现这种行为。</p><p>在1.803版之前的 Emuera 中，如果是类似<code>code,08231000181818110</code>的游戏代码，则会是0。</p><p>Emuera 可以处理范围在-9223372036854775808到9223372036854775807的数字，但 <code>GAMEBASE_GAMECODE</code>只能像 Eramaker 一样处理-2147483648到2147483647范围内的数字，如果数字超过这个范围，它将被设置为0。</p><p>此外，在 Emuera 1.804版本中，游戏代码将是8231000181818110，即使是<code>代码，08231000181818110</code>。</p><p>(<code>GAMEBASE_GAMECODE</code>变量已被改变，以处理与其他变量相同的范围) 在这种情况下，如果数值的数量超过了 Emuera 可以处理的数字范围，如 <code>code,98231000181818110110</code>，游戏代码也将为0。</p><p>在 Emuera 1.805或更高版本中，如果保存的数据的游戏代码为0，则无论游戏的游戏代码如何，都可以读取。</p><h3 id="abl-csv-等的读取方法" tabindex="-1"><a class="header-anchor" href="#abl-csv-等的读取方法" aria-hidden="true">#</a> Abl.csv 等的读取方法</h3><p>在 Eramaker 中，你可以指定一个负的或非常大的索引值，如<code>99999:技巧</code>。</p><p>然而，这个数字将用于<code>PRINT_ABL</code>和其他应用程序，因此<code>PRINT_ABL</code>将参考<code>ABL:99999</code>（在 Eramaker 中），并发生错误。</p><p>由于这个原因，实际值与<code>ABL</code>和<code>TALENT</code>数组的数量相同。</p><p>即使在<code>Item.csv</code>中，当提及<code>SHOP</code>中的<code>ITEM</code>或<code>ITEMSALES</code>时，也会出现错误。</p><p>Emuera 不允许你指定<code>ABL</code>等数组范围之外的值。</p><p>这样的线条将被忽略。</p><p>相反，你可以用<code>VariableSize.csv</code>改变阵列的范围。</p><h3 id="train-csv-的读取方法" tabindex="-1"><a class="header-anchor" href="#train-csv-的读取方法" aria-hidden="true">#</a> Train.csv 的读取方法</h3><p>基本上，它与其他任何csv文件相同，但有一些不同之处。</p><p>例如，在 Eramaker 中，如果你定义了<code>XXX,9999</code>，如果<code>@COM99999</code>被定义，命令将被正确执行。</p><p>另一方面，如果你定义了一个负值，如<code>YYY,-2</code>，命令会出现，但当你选择它时，什么也不会发生。</p><p>Emuera 不会重现这种行为。</p><p>可以定义的范围是不超过<code>VariableSize.csv</code>中指定的<code>TRAINNAME</code>的大小，否则将被忽略。</p><p>如果你没有改变<code>TRAINNAME</code>的大小，0-999的范围是有效的。</p><h3 id="charaxx-csv-的读取方法" tabindex="-1"><a class="header-anchor" href="#charaxx-csv-的读取方法" aria-hidden="true">#</a> CharaXX.csv 的读取方法</h3><p>在 Eramaker 中，即使编号小于0或大于1000，<code>ADDCHARA</code>也能正常工作。</p><p>这也是 Emuera 的行为。</p><p>在 Eramaker 中，如果需要第三个值，例如<code>foundation,0</code>，如果省略它，则被视为0。</p><p>另外，如果不需要第三个值，如<code>quality,0,100</code>，它将被忽略并被设置为1。</p><p>Emuera 没有再现这种行为。</p><p>如果你指定<code>基础,0</code>，<code>MAXBASE:0</code>将是1，如果你指定<code>素质,0,100</code>，<code>Talent:0</code>将是100。</p><h3 id="文件的换行代码" tabindex="-1"><a class="header-anchor" href="#文件的换行代码" aria-hidden="true">#</a> 文件的换行代码</h3><p>当换行代码为<code>CR``LF</code>和<code>LF</code>时，Eramaker 将其作为一个新行处理。 但是，当换行代码只有<code>CR</code>时，它不被作为一个新行处理，并出现各种故障。</p><p>Emuera 没有重现这种行为，只将<code>CR</code>作为换行处理。</p><h2 id="未纠正的错误和不自然的行为" tabindex="-1"><a class="header-anchor" href="#未纠正的错误和不自然的行为" aria-hidden="true">#</a> 未纠正的错误和不自然的行为</h2><h3 id="读取文件的顺序取决于文件系统" tabindex="-1"><a class="header-anchor" href="#读取文件的顺序取决于文件系统" aria-hidden="true">#</a> 读取文件的顺序取决于文件系统</h3><p>在 Eramaker basic 中，有些情况下，行为取决于文件的读取顺序，例如，当调用一个多重函数时。</p><p>然而，在 Eramaker 中，文件的读取顺序取决于文件系统，所以可能不会像预期那样工作。</p><p>这个问题也在 Emuera 中重现。</p><p>目前许多可用的脚本假定文件系统是NTFS，如果文件系统是FAT，则不能正确工作。</p><h3 id="count是在repeat-rend的结尾处添加的" tabindex="-1"><a class="header-anchor" href="#count是在repeat-rend的结尾处添加的" aria-hidden="true">#</a> COUNT是在REPEAT-REND的结尾处添加的</h3><p>在 Eramaker 中，当你退出<code>REPEAT</code>-<code>REND</code>时，<code>COUNT</code>会增加1。</p><p>如果你用<code>BREAK</code>退出，计数也是+1。</p><p>Emuera 再现了这种行为。</p><p>在<code>FOR</code>-<code>NEXT</code>语法中，循环变量也是+1。</p><p>请注意，该行为与一般编程语言中的<code>for</code>和<code>break</code>语句不同。</p><h3 id="nextcom的行为" tabindex="-1"><a class="header-anchor" href="#nextcom的行为" aria-hidden="true">#</a> NEXTCOM的行为</h3><p>在 Eramaker 中，<code>NEXTCOM</code>的初始值是-1，但执行<code>NEXTCOM</code>后分配的值是0而不是-1。 这意味着<code>NEXTCOM</code>将不断重复<code>COM0</code>，除非你在ERB中再次指定它。 请注意，在官方 Eramaker 文档中没有提到<code>NEXTCOM</code>。 Emuera 也再现了这种行为。 <code>NEXTCOM</code>功能只是为了与 Eramaker 兼容而复制的，不建议使用它。 如果你的代码不打算在 Eramaker 中运行，考虑使用<code>DOTRAIN</code>或<code>CALLTRAIN</code>指令。</p><h2 id="改变的特征" tabindex="-1"><a class="header-anchor" href="#改变的特征" aria-hidden="true">#</a> 改变的特征</h2><h3 id="sp角色" tabindex="-1"><a class="header-anchor" href="#sp角色" aria-hidden="true">#</a> SP角色</h3><p>在 Eramaker 中，csv中<code>CFLAG:0</code>设置为非零的字符是SP角色。</p><p>用<code>ADDCHARA</code>注册一个角色是不可能的，你必须用<code>ADDSPCHARA</code>注册它。</p><p>这也是导致<code>CFLAG:0</code>被无意中设置为非零，无法被<code>ADDCHARA</code>注册的一个错误。</p><p>Emuera 已经决定从1.816版开始不支持这个功能作为标准功能。</p><p><code>CFLAG:0</code>不再被视为特殊，所有的角色都可以从<code>ADDCHARA</code>注册。</p><p>兼容性选项 &quot;使用SP角色 &quot;允许你重现 Eramaker 的行为，但不建议将其用于任何目的，除了使旧的脚本工作。</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/miswanting/ecd/edit/main/translation/Difference.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 453542772@qq.com">Miswanting</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/ecd/translation/Flow.html" class="" aria-label="流程图"><!--[--><!--]--> 流程图 <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/ecd/assets/app.d32e40b2.js" defer></script>
  </body>
</html>
